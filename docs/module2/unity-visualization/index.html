<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module2/unity-visualization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Unity for Robot Visualization | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://shahzad1050.github.io/Physical-AI-Humanoid-book/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://shahzad1050.github.io/Physical-AI-Humanoid-book/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://shahzad1050.github.io/Physical-AI-Humanoid-book/docs/module2/unity-visualization"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unity for Robot Visualization | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Introduction to Unity for Robotics"><meta data-rh="true" property="og:description" content="Introduction to Unity for Robotics"><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://shahzad1050.github.io/Physical-AI-Humanoid-book/docs/module2/unity-visualization"><link data-rh="true" rel="alternate" href="https://shahzad1050.github.io/Physical-AI-Humanoid-book/docs/module2/unity-visualization" hreflang="en"><link data-rh="true" rel="alternate" href="https://shahzad1050.github.io/Physical-AI-Humanoid-book/docs/module2/unity-visualization" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unity for Robot Visualization","item":"https://shahzad1050.github.io/Physical-AI-Humanoid-book/docs/module2/unity-visualization"}]}</script><link rel="alternate" type="application/rss+xml" href="/Physical-AI-Humanoid-book/blog/rss.xml" title="Physical AI &amp; Humanoid Robotics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Physical-AI-Humanoid-book/blog/atom.xml" title="Physical AI &amp; Humanoid Robotics Atom Feed"><link rel="stylesheet" href="/Physical-AI-Humanoid-book/assets/css/styles.9c53a5ce.css">
<script src="/Physical-AI-Humanoid-book/assets/js/runtime~main.dd31f457.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-book/assets/js/main.63f3f5f2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Physical-AI-Humanoid-book/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-book/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-book/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-book/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Physical-AI-Humanoid-book/docs/intro">Modules</a><a class="navbar__item navbar__link" href="/Physical-AI-Humanoid-book/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/user/physical-ai-humanoid-robotics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-book/docs/intro"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-book/docs/module1/architecture-concepts"><span title="Module 1: The Robotic Nervous System (ROS 2)" class="categoryLinkLabel_W154">Module 1: The Robotic Nervous System (ROS 2)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Physical-AI-Humanoid-book/docs/module2/gazebo-setup"><span title="Module 2: Robot Simulation (Digital Twin)" class="categoryLinkLabel_W154">Module 2: Robot Simulation (Digital Twin)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/gazebo-setup"><span title="Gazebo Environment Setup" class="linkLabel_WmDU">Gazebo Environment Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/"><span title="Module 2: Robot Simulation (Digital Twin)" class="linkLabel_WmDU">Module 2: Robot Simulation (Digital Twin)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/introduction"><span title="Introduction to Robot Simulation" class="linkLabel_WmDU">Introduction to Robot Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/lab-first-simulation"><span title="Practical Lab: Creating Your First Robot Simulation" class="linkLabel_WmDU">Practical Lab: Creating Your First Robot Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/physics-sensor-simulation"><span title="Physics and Sensor Simulation" class="linkLabel_WmDU">Physics and Sensor Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/unity-visualization"><span title="Unity for Robot Visualization" class="linkLabel_WmDU">Unity for Robot Visualization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-book/docs/module2/urdf-sdf-formats"><span title="URDF and SDF Formats" class="linkLabel_WmDU">URDF and SDF Formats</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-book/docs/module3/ai-perception"><span title="Module 3: NVIDIA Isaac Platform" class="categoryLinkLabel_W154">Module 3: NVIDIA Isaac Platform</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-book/docs/module4/balance-control"><span title="Module 4: Humanoid Robot Development" class="categoryLinkLabel_W154">Module 4: Humanoid Robot Development</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-book/docs/glossary"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Physical-AI-Humanoid-book/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module 2: Robot Simulation (Digital Twin)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Unity for Robot Visualization</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Unity for Robot Visualization</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction-to-unity-for-robotics">Introduction to Unity for Robotics<a href="#introduction-to-unity-for-robotics" class="hash-link" aria-label="Direct link to Introduction to Unity for Robotics" title="Direct link to Introduction to Unity for Robotics" translate="no">​</a></h2>
<p>Unity is a powerful 3D development platform that has gained significant traction in robotics for creating high-fidelity visualizations, simulations, and digital twins. While traditionally used for gaming, Unity&#x27;s real-time rendering capabilities, physics engine, and extensibility make it an excellent choice for robotics applications.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-unity-for-robotics">Why Unity for Robotics?<a href="#why-unity-for-robotics" class="hash-link" aria-label="Direct link to Why Unity for Robotics?" title="Direct link to Why Unity for Robotics?" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advantages">Advantages<a href="#advantages" class="hash-link" aria-label="Direct link to Advantages" title="Direct link to Advantages" translate="no">​</a></h3>
<ul>
<li class=""><strong>High-Quality Rendering</strong>: State-of-the-art graphics for photorealistic simulation</li>
<li class=""><strong>Real-time Performance</strong>: Optimized for interactive applications</li>
<li class=""><strong>Extensive Asset Library</strong>: Thousands of 3D models, materials, and environments</li>
<li class=""><strong>Cross-Platform Support</strong>: Deploy to multiple platforms and devices</li>
<li class=""><strong>Active Community</strong>: Large developer community with extensive resources</li>
<li class=""><strong>Flexible Integration</strong>: APIs for connecting with external systems</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-cases-in-robotics">Use Cases in Robotics<a href="#use-cases-in-robotics" class="hash-link" aria-label="Direct link to Use Cases in Robotics" title="Direct link to Use Cases in Robotics" translate="no">​</a></h3>
<ul>
<li class=""><strong>High-fidelity simulation</strong> for perception system training</li>
<li class=""><strong>Digital twin visualization</strong> for monitoring real robots</li>
<li class=""><strong>Virtual reality (VR) interfaces</strong> for robot teleoperation</li>
<li class=""><strong>Training environments</strong> for reinforcement learning</li>
<li class=""><strong>Public demonstrations</strong> and educational tools</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unity-robotics-setup">Unity Robotics Setup<a href="#unity-robotics-setup" class="hash-link" aria-label="Direct link to Unity Robotics Setup" title="Direct link to Unity Robotics Setup" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installation-requirements">Installation Requirements<a href="#installation-requirements" class="hash-link" aria-label="Direct link to Installation Requirements" title="Direct link to Installation Requirements" translate="no">​</a></h3>
<ol>
<li class=""><strong>Unity Hub</strong>: Download from Unity&#x27;s official website</li>
<li class=""><strong>Unity Editor</strong>: Install version 2021.3 LTS or later</li>
<li class=""><strong>Unity Robotics Hub</strong>: Extension for robotics-specific tools</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installing-unity-robotics-tools">Installing Unity Robotics Tools<a href="#installing-unity-robotics-tools" class="hash-link" aria-label="Direct link to Installing Unity Robotics Tools" title="Direct link to Installing Unity Robotics Tools" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Through Unity Package Manager:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Window → Package Manager → Unity Registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Unity Robotics Hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - ROS-TCP-Connector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - Unity Perception</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - ML-Agents (for AI training)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unity-ros-integration">Unity ROS Integration<a href="#unity-ros-integration" class="hash-link" aria-label="Direct link to Unity ROS Integration" title="Direct link to Unity ROS Integration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-tcp-connector">ROS-TCP-Connector<a href="#ros-tcp-connector" class="hash-link" aria-label="Direct link to ROS-TCP-Connector" title="Direct link to ROS-TCP-Connector" translate="no">​</a></h3>
<p>The ROS-TCP-Connector package enables communication between Unity and ROS 2:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Connect to ROS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.RegisterPublisher&lt;UInt64Msg&gt;(&quot;robot_command&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Send a message to ROS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Input.GetKeyDown(KeyCode.Space))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ros.Publish(&quot;robot_command&quot;, new UInt64Msg(1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="setting-up-the-connection">Setting Up the Connection<a href="#setting-up-the-connection" class="hash-link" aria-label="Direct link to Setting Up the Connection" title="Direct link to Setting Up the Connection" translate="no">​</a></h3>
<ol>
<li class=""><strong>Start ROS 2 bridge</strong> in your terminal:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Terminal 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/ros/humble/setup.bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source install/setup.bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=127.0.0.1 -p ROS_TCP_PORT:=10000</span><br></span></code></pre></div></div>
<ol start="2">
<li class=""><strong>Configure Unity</strong> to connect to the bridge:</li>
</ol>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// In Unity, configure the ROS connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ROSConnectionSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string rosIPAddress = &quot;127.0.0.1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int rosPort = 10000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ROSConnection.instance = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ROSConnection.instance.RosIPAddress = rosIPAddress;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ROSConnection.instance.RosPort = rosPort;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-robot-models-in-unity">Creating Robot Models in Unity<a href="#creating-robot-models-in-unity" class="hash-link" aria-label="Direct link to Creating Robot Models in Unity" title="Direct link to Creating Robot Models in Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="importing-robot-models">Importing Robot Models<a href="#importing-robot-models" class="hash-link" aria-label="Direct link to Importing Robot Models" title="Direct link to Importing Robot Models" translate="no">​</a></h3>
<p>Unity supports several 3D model formats:</p>
<ul>
<li class=""><strong>FBX</strong>: Recommended for complex models with animations</li>
<li class=""><strong>OBJ</strong>: Simple geometry import</li>
<li class=""><strong>DAE</strong>: Collada format for interchange</li>
<li class=""><strong>USD</strong>: Universal Scene Description (Unity native)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="robot-structure-in-unity">Robot Structure in Unity<a href="#robot-structure-in-unity" class="hash-link" aria-label="Direct link to Robot Structure in Unity" title="Direct link to Robot Structure in Unity" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotModel : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Robot Joints&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform baseLink;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform joint1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform joint2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform endEffector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Joint Limits&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float joint1Min = -90f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float joint1Max = 90f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float joint2Min = -45f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float joint2Max = 45f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Forward kinematics calculation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 CalculateEndEffectorPosition()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return endEffector.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Inverse kinematics (simplified)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void SetJointAngles(float angle1, float angle2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angle1 = Mathf.Clamp(angle1, joint1Min, joint1Max);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angle2 = Mathf.Clamp(angle2, joint2Min, joint2Max);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint1.localEulerAngles = new Vector3(0, 0, angle1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint2.localEulerAngles = new Vector3(0, 0, angle2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="joint-control-system">Joint Control System<a href="#joint-control-system" class="hash-link" aria-label="Direct link to Joint Control System" title="Direct link to Joint Control System" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Sensor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class JointController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string jointStateTopic = &quot;/joint_states&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform[] joints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string[] jointNames;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.Subscribe&lt;JointStateMsg&gt;(jointStateTopic, OnJointStateReceived);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnJointStateReceived(JointStateMsg jointState)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; jointNames.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            int jointIndex = System.Array.IndexOf(jointState.name, jointNames[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; jointState.position.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Apply joint position to Unity transform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joints[i].localEulerAngles = new Vector3(0, 0, (float)jointState.position[jointIndex] * Mathf.Rad2Deg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sensor-simulation-in-unity">Sensor Simulation in Unity<a href="#sensor-simulation-in-unity" class="hash-link" aria-label="Direct link to Sensor Simulation in Unity" title="Direct link to Sensor Simulation in Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="camera-sensors">Camera Sensors<a href="#camera-sensors" class="hash-link" aria-label="Direct link to Camera Sensors" title="Direct link to Camera Sensors" translate="no">​</a></h3>
<p>Unity&#x27;s built-in cameras can simulate various types of vision sensors:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Sensor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UnityCameraSensor : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Camera cam;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string imageTopic = &quot;/camera/image_raw&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int imageWidth = 640;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int imageHeight = 480;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float updateRate = 30.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RenderTexture renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Texture2D texture2D;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cam = GetComponent&lt;Camera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create render texture for camera</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renderTexture = new RenderTexture(imageWidth, imageHeight, 24);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        texture2D = new Texture2D(imageWidth, imageHeight, TextureFormat.RGB24, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cam.targetTexture = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InvokeRepeating(&quot;CaptureAndSendImage&quot;, 0, 1.0f / updateRate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void CaptureAndSendImage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Set the active render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Read pixels from the render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        texture2D.ReadPixels(new Rect(0, 0, imageWidth, imageHeight), 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        texture2D.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Convert to ROS message format (simplified)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        byte[] imageData = texture2D.EncodeToJPG();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Send image via ROS (implementation depends on message format)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ros.Publish(imageTopic, imageMsg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lidar-simulation">LIDAR Simulation<a href="#lidar-simulation" class="hash-link" aria-label="Direct link to LIDAR Simulation" title="Direct link to LIDAR Simulation" translate="no">​</a></h3>
<p>Unity can simulate LIDAR sensors using raycasting:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UnityLidar : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int horizontalSamples = 720;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int verticalSamples = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float minAngle = -Mathf.PI;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float maxAngle = Mathf.PI;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float maxRange = 30.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public LayerMask detectionMask = -1; // All layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string scanTopic = &quot;/scan&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InvokeRepeating(&quot;SimulateLidar&quot;, 0, 0.1f); // 10Hz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SimulateLidar()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;float&gt; ranges = new List&lt;float&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float angleIncrement = (maxAngle - minAngle) / horizontalSamples;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; horizontalSamples; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float angle = minAngle + i * angleIncrement;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Vector3 direction = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Cos(angle),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Sin(angle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            RaycastHit hit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (Physics.Raycast(transform.position, transform.TransformDirection(direction),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              out hit, maxRange, detectionMask))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ranges.Add(hit.distance);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ranges.Add(maxRange); // No obstacle detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish ranges to ROS (simplified)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ros.Publish(scanTopic, laserScanMsg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unity-perception-package">Unity Perception Package<a href="#unity-perception-package" class="hash-link" aria-label="Direct link to Unity Perception Package" title="Direct link to Unity Perception Package" translate="no">​</a></h2>
<p>The Unity Perception package provides tools for generating synthetic training data:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="semantic-segmentation">Semantic Segmentation<a href="#semantic-segmentation" class="hash-link" aria-label="Direct link to Semantic Segmentation" title="Direct link to Semantic Segmentation" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Perception.GroundTruth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Perception.GroundTruth.LabelManagement;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SemanticSegmentationSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Assign semantic labels to objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AssignSemanticLabels();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void AssignSemanticLabels()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GameObject[] objects = GameObject.FindGameObjectsWithTag(&quot;SemanticObject&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (GameObject obj in objects)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var labeler = obj.GetComponent&lt;SemanticLabeler&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (labeler == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                labeler = obj.AddComponent&lt;SemanticLabeler&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Assign labels based on object type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (obj.tag == &quot;Robot&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                labeler.labelId = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (obj.tag == &quot;Obstacle&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                labeler.labelId = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (obj.tag == &quot;Ground&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                labeler.labelId = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dataset-generation">Dataset Generation<a href="#dataset-generation" class="hash-link" aria-label="Direct link to Dataset Generation" title="Direct link to Dataset Generation" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Perception.GroundTruth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DatasetGenerator : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int datasetSize = 1000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float captureInterval = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        StartCoroutine(GenerateDataset());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IEnumerator GenerateDataset()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; datasetSize; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Move objects to random positions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            RandomizeScene();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Capture ground truth data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CaptureGroundTruth();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            yield return new WaitForSeconds(captureInterval);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void RandomizeScene()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Randomly position objects in the scene</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GameObject[] sceneObjects = GameObject.FindGameObjectsWithTag(&quot;RandomObject&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (GameObject obj in sceneObjects)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Vector3 randomPos = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Random.Range(-5f, 5f),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Random.Range(0f, 2f),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Random.Range(-5f, 5f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            obj.transform.position = randomPos;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Random rotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            obj.transform.rotation = Random.rotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void CaptureGroundTruth()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Trigger capture of all ground truth data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // This would typically save images and annotations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="digital-twin-implementation">Digital Twin Implementation<a href="#digital-twin-implementation" class="hash-link" aria-label="Direct link to Digital Twin Implementation" title="Direct link to Digital Twin Implementation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-time-synchronization">Real-time Synchronization<a href="#real-time-synchronization" class="hash-link" aria-label="Direct link to Real-time Synchronization" title="Direct link to Real-time Synchronization" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Nav;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Geometry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DigitalTwin : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string tfTopic = &quot;/tf&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string odomTopic = &quot;/odom&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Store robot state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Vector3 realPosition;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Quaternion realRotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.Subscribe&lt;OdometryMsg&gt;(odomTopic, OnOdometryReceived);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.Subscribe&lt;TFMessage&gt;(tfTopic, OnTFReceived);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnOdometryReceived(OdometryMsg odom)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Update digital twin with real robot pose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        realPosition = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.position.x,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.position.y,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.position.z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        realRotation = new Quaternion(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.orientation.x,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.orientation.y,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.orientation.z,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            (float)odom.pose.pose.orientation.w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply to Unity object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.position = realPosition;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.rotation = realRotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnTFReceived(TFMessage tf)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle transform updates for multi-link robots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var transform in tf.transforms)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Update corresponding Unity object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            UpdateLinkPose(transform.child_frame_id, transform.transform);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void UpdateLinkPose(string frameId, TransformMsg tf)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GameObject linkObject = GameObject.Find(frameId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (linkObject != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            linkObject.transform.position = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.translation.x,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.translation.y,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.translation.z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            linkObject.transform.rotation = new Quaternion(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.rotation.x,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.rotation.y,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.rotation.z,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                (float)tf.rotation.w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="level-of-detail-lod">Level of Detail (LOD)<a href="#level-of-detail-lod" class="hash-link" aria-label="Direct link to Level of Detail (LOD)" title="Direct link to Level of Detail (LOD)" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotLOD : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float[] lodDistances = {10f, 30f, 50f};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public GameObject[] lodObjects;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Camera mainCamera;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainCamera = Camera.main;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UpdateLOD();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UpdateLOD();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void UpdateLOD()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (mainCamera == null) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float distance = Vector3.Distance(transform.position, mainCamera.transform.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; lodDistances.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (distance &lt;= lodDistances[i])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ActivateLOD(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Use lowest detail if beyond all distances</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActivateLOD(lodObjects.Length - 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ActivateLOD(int lodIndex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; lodObjects.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (lodObjects[i] != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lodObjects[i].SetActive(i == lodIndex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="occlusion-culling">Occlusion Culling<a href="#occlusion-culling" class="hash-link" aria-label="Direct link to Occlusion Culling" title="Direct link to Occlusion Culling" translate="no">​</a></h3>
<p>Enable Unity&#x27;s built-in occlusion culling for better performance:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// In Unity Editor: Window → Rendering → Occlusion Culling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Mark static objects as &quot;Occluder Static&quot; or &quot;Occludee Static&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="vr-integration-for-teleoperation">VR Integration for Teleoperation<a href="#vr-integration-for-teleoperation" class="hash-link" aria-label="Direct link to VR Integration for Teleoperation" title="Direct link to VR Integration for Teleoperation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="vr-teleoperation-interface">VR Teleoperation Interface<a href="#vr-teleoperation-interface" class="hash-link" aria-label="Direct link to VR Teleoperation Interface" title="Direct link to VR Teleoperation Interface" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine.XR;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class VRTeleoperation : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string commandTopic = &quot;/teleop_command&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    InputDevice leftController;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    InputDevice rightController;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Initialize XR devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var devices = new List&lt;InputDevice&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InputDevices.GetDevices(devices);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var device in devices)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (device.role == InputDeviceRole.LeftHanded)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                leftController = device;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (device.role == InputDeviceRole.RightHanded)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                rightController = device;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Get controller inputs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (leftController.isValid)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Get trigger value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float triggerValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (leftController.TryGetFeatureValue(CommonUsages.trigger, out triggerValue))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Send command based on trigger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SendTeleoperationCommand(triggerValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SendTeleoperationCommand(float value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish command to ROS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ros.Publish(commandTopic, commandMsg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-scene-organization">1. Scene Organization<a href="#1-scene-organization" class="hash-link" aria-label="Direct link to 1. Scene Organization" title="Direct link to 1. Scene Organization" translate="no">​</a></h3>
<ul>
<li class="">Use meaningful names for GameObjects</li>
<li class="">Group related objects under parent GameObjects</li>
<li class="">Use tags and layers for efficient selection</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-resource-management">2. Resource Management<a href="#2-resource-management" class="hash-link" aria-label="Direct link to 2. Resource Management" title="Direct link to 2. Resource Management" translate="no">​</a></h3>
<ul>
<li class="">Use object pooling for frequently instantiated objects</li>
<li class="">Implement proper garbage collection</li>
<li class="">Optimize textures and 3D models for performance</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-network-communication">3. Network Communication<a href="#3-network-communication" class="hash-link" aria-label="Direct link to 3. Network Communication" title="Direct link to 3. Network Communication" translate="no">​</a></h3>
<ul>
<li class="">Implement proper error handling for ROS connections</li>
<li class="">Use appropriate update rates to avoid network congestion</li>
<li class="">Consider data compression for large messages</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-physics-settings">4. Physics Settings<a href="#4-physics-settings" class="hash-link" aria-label="Direct link to 4. Physics Settings" title="Direct link to 4. Physics Settings" translate="no">​</a></h3>
<ul>
<li class="">Use appropriate physics settings for your application</li>
<li class="">Balance accuracy with performance requirements</li>
<li class="">Test with various scenarios to ensure stability</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-workflow">Integration Workflow<a href="#integration-workflow" class="hash-link" aria-label="Direct link to Integration Workflow" title="Direct link to Integration Workflow" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="development-pipeline">Development Pipeline<a href="#development-pipeline" class="hash-link" aria-label="Direct link to Development Pipeline" title="Direct link to Development Pipeline" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ROS 2 Nodes] ↔ [ROS-TCP-Endpoint] ↔ [Unity Scene] ↔ [Visualization]</span><br></span></code></pre></div></div>
<ol>
<li class=""><strong>Design Phase</strong>: Create 3D models and scenes in Unity</li>
<li class=""><strong>Integration Phase</strong>: Connect Unity to ROS 2 using TCP connector</li>
<li class=""><strong>Testing Phase</strong>: Validate data flow and visualization accuracy</li>
<li class=""><strong>Optimization Phase</strong>: Improve performance and visual quality</li>
<li class=""><strong>Deployment Phase</strong>: Package for target platform</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting-common-issues">Troubleshooting Common Issues<a href="#troubleshooting-common-issues" class="hash-link" aria-label="Direct link to Troubleshooting Common Issues" title="Direct link to Troubleshooting Common Issues" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="connection-problems">Connection Problems<a href="#connection-problems" class="hash-link" aria-label="Direct link to Connection Problems" title="Direct link to Connection Problems" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Verify ROS connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void CheckConnection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ROSConnection.instance == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.LogError(&quot;ROS Connection not initialized!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!ROSConnection.instance.IsConnected())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.LogWarning(&quot;Not connected to ROS bridge&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-issues">Performance Issues<a href="#performance-issues" class="hash-link" aria-label="Direct link to Performance Issues" title="Direct link to Performance Issues" translate="no">​</a></h3>
<ul>
<li class="">Reduce polygon count of 3D models</li>
<li class="">Use texture atlasing to reduce draw calls</li>
<li class="">Implement frustum culling for distant objects</li>
<li class="">Optimize shader complexity</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Unity provides a powerful platform for robotics visualization and simulation, offering high-quality graphics, real-time performance, and extensive integration capabilities. When combined with ROS 2, Unity enables the creation of sophisticated digital twins, training environments, and visualization tools that bridge the gap between simulation and reality.</p>
<p>The Unity Robotics ecosystem continues to evolve with new tools and capabilities, making it an increasingly attractive option for robotics researchers and developers who need high-fidelity visualization and simulation capabilities.</p>
<p>In the next section, we&#x27;ll create a practical lab exercise to apply these concepts.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/user/physical-ai-humanoid-robotics/tree/main/docs/module2/unity-visualization.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-book/docs/module2/physics-sensor-simulation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Physics and Sensor Simulation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-book/docs/module2/urdf-sdf-formats"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">URDF and SDF Formats</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-unity-for-robotics" class="table-of-contents__link toc-highlight">Introduction to Unity for Robotics</a></li><li><a href="#why-unity-for-robotics" class="table-of-contents__link toc-highlight">Why Unity for Robotics?</a><ul><li><a href="#advantages" class="table-of-contents__link toc-highlight">Advantages</a></li><li><a href="#use-cases-in-robotics" class="table-of-contents__link toc-highlight">Use Cases in Robotics</a></li></ul></li><li><a href="#unity-robotics-setup" class="table-of-contents__link toc-highlight">Unity Robotics Setup</a><ul><li><a href="#installation-requirements" class="table-of-contents__link toc-highlight">Installation Requirements</a></li><li><a href="#installing-unity-robotics-tools" class="table-of-contents__link toc-highlight">Installing Unity Robotics Tools</a></li></ul></li><li><a href="#unity-ros-integration" class="table-of-contents__link toc-highlight">Unity ROS Integration</a><ul><li><a href="#ros-tcp-connector" class="table-of-contents__link toc-highlight">ROS-TCP-Connector</a></li><li><a href="#setting-up-the-connection" class="table-of-contents__link toc-highlight">Setting Up the Connection</a></li></ul></li><li><a href="#creating-robot-models-in-unity" class="table-of-contents__link toc-highlight">Creating Robot Models in Unity</a><ul><li><a href="#importing-robot-models" class="table-of-contents__link toc-highlight">Importing Robot Models</a></li><li><a href="#robot-structure-in-unity" class="table-of-contents__link toc-highlight">Robot Structure in Unity</a></li><li><a href="#joint-control-system" class="table-of-contents__link toc-highlight">Joint Control System</a></li></ul></li><li><a href="#sensor-simulation-in-unity" class="table-of-contents__link toc-highlight">Sensor Simulation in Unity</a><ul><li><a href="#camera-sensors" class="table-of-contents__link toc-highlight">Camera Sensors</a></li><li><a href="#lidar-simulation" class="table-of-contents__link toc-highlight">LIDAR Simulation</a></li></ul></li><li><a href="#unity-perception-package" class="table-of-contents__link toc-highlight">Unity Perception Package</a><ul><li><a href="#semantic-segmentation" class="table-of-contents__link toc-highlight">Semantic Segmentation</a></li><li><a href="#dataset-generation" class="table-of-contents__link toc-highlight">Dataset Generation</a></li></ul></li><li><a href="#digital-twin-implementation" class="table-of-contents__link toc-highlight">Digital Twin Implementation</a><ul><li><a href="#real-time-synchronization" class="table-of-contents__link toc-highlight">Real-time Synchronization</a></li></ul></li><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a><ul><li><a href="#level-of-detail-lod" class="table-of-contents__link toc-highlight">Level of Detail (LOD)</a></li><li><a href="#occlusion-culling" class="table-of-contents__link toc-highlight">Occlusion Culling</a></li></ul></li><li><a href="#vr-integration-for-teleoperation" class="table-of-contents__link toc-highlight">VR Integration for Teleoperation</a><ul><li><a href="#vr-teleoperation-interface" class="table-of-contents__link toc-highlight">VR Teleoperation Interface</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-scene-organization" class="table-of-contents__link toc-highlight">1. Scene Organization</a></li><li><a href="#2-resource-management" class="table-of-contents__link toc-highlight">2. Resource Management</a></li><li><a href="#3-network-communication" class="table-of-contents__link toc-highlight">3. Network Communication</a></li><li><a href="#4-physics-settings" class="table-of-contents__link toc-highlight">4. Physics Settings</a></li></ul></li><li><a href="#integration-workflow" class="table-of-contents__link toc-highlight">Integration Workflow</a><ul><li><a href="#development-pipeline" class="table-of-contents__link toc-highlight">Development Pipeline</a></li></ul></li><li><a href="#troubleshooting-common-issues" class="table-of-contents__link toc-highlight">Troubleshooting Common Issues</a><ul><li><a href="#connection-problems" class="table-of-contents__link toc-highlight">Connection Problems</a></li><li><a href="#performance-issues" class="table-of-contents__link toc-highlight">Performance Issues</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-book/docs/intro">Modules</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-book/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/user/physical-ai-humanoid-robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>