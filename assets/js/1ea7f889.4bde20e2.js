"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[3446],{8375:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"module2/gazebo-setup","title":"Gazebo Environment Setup","description":"Overview of Gazebo","source":"@site/docs/module2/gazebo-setup.md","sourceDirName":"module2","slug":"/module2/gazebo-setup","permalink":"/Physical-AI-Humanoid-book/docs/module2/gazebo-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/user/physical-ai-humanoid-robotics/tree/main/docs/module2/gazebo-setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Packages and Python Development","permalink":"/Physical-AI-Humanoid-book/docs/module1/packages-python-development"},"next":{"title":"Module 2: Robot Simulation (Digital Twin)","permalink":"/Physical-AI-Humanoid-book/docs/module2/"}}');var o=i(4848),r=i(8453);const l={},a="Gazebo Environment Setup",t={},d=[{value:"Overview of Gazebo",id:"overview-of-gazebo",level:2},{value:"Installing Gazebo",id:"installing-gazebo",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation on Ubuntu",id:"installation-on-ubuntu",level:3},{value:"Installation via Package Manager (Alternative)",id:"installation-via-package-manager-alternative",level:3},{value:"Installation on Other Platforms",id:"installation-on-other-platforms",level:3},{value:"Gazebo Components",id:"gazebo-components",level:2},{value:"1. gz-sim (formerly Ignition Gazebo)",id:"1-gz-sim-formerly-ignition-gazebo",level:3},{value:"2. gz-gui (formerly Ignition GUI)",id:"2-gz-gui-formerly-ignition-gui",level:3},{value:"3. gz-fuel (formerly Ignition Fuel)",id:"3-gz-fuel-formerly-ignition-fuel",level:3},{value:"Basic Gazebo Concepts",id:"basic-gazebo-concepts",level:2},{value:"Worlds",id:"worlds",level:3},{value:"Models",id:"models",level:3},{value:"Running Gazebo",id:"running-gazebo",level:2},{value:"Basic Launch",id:"basic-launch",level:3},{value:"Gazebo GUI Elements",id:"gazebo-gui-elements",level:3},{value:"Gazebo with ROS 2 Integration",id:"gazebo-with-ros-2-integration",level:2},{value:"Installation of ROS 2 Gazebo Packages",id:"installation-of-ros-2-gazebo-packages",level:3},{value:"Launching Gazebo through ROS 2",id:"launching-gazebo-through-ros-2",level:3},{value:"Gazebo Simulation Parameters",id:"gazebo-simulation-parameters",level:2},{value:"Physics Engine Configuration",id:"physics-engine-configuration",level:3},{value:"Common Physics Parameters",id:"common-physics-parameters",level:3},{value:"Working with Gazebo Models",id:"working-with-gazebo-models",level:2},{value:"Finding Models",id:"finding-models",level:3},{value:"Adding Custom Models",id:"adding-custom-models",level:3},{value:"Gazebo Services and Topics",id:"gazebo-services-and-topics",level:2},{value:"Common Services",id:"common-services",level:3},{value:"Common Topics",id:"common-topics",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Graphics Settings",id:"graphics-settings",level:3},{value:"Physics Settings",id:"physics-settings",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Gazebo Won&#39;t Start",id:"gazebo-wont-start",level:3},{value:"Performance Issues",id:"performance-issues",level:3},{value:"ROS 2 Connection Issues",id:"ros-2-connection-issues",level:3},{value:"Summary",id:"summary",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"gazebo-environment-setup",children:"Gazebo Environment Setup"})}),"\n",(0,o.jsx)(n.h2,{id:"overview-of-gazebo",children:"Overview of Gazebo"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo is a 3D simulation environment that enables accurate and efficient testing of robotics systems. It provides high-fidelity physics simulation, realistic rendering, and convenient programmatic interfaces. Gazebo is widely used in the robotics community and integrates seamlessly with ROS 2."}),"\n",(0,o.jsx)(n.h2,{id:"installing-gazebo",children:"Installing Gazebo"}),"\n",(0,o.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.p,{children:"Before installing Gazebo, ensure you have ROS 2 installed. Gazebo Harmonic is the recommended version that works well with ROS 2 Humble Hawksbill."}),"\n",(0,o.jsx)(n.h3,{id:"installation-on-ubuntu",children:"Installation on Ubuntu"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Add the Gazebo repository\r\nsudo apt install software-properties-common\r\nsudo add-apt-repository ppa:openrobotics/gazebo\r\nsudo apt update\r\n\r\n# Install Gazebo\r\nsudo apt install gazebo\n"})}),"\n",(0,o.jsx)(n.h3,{id:"installation-via-package-manager-alternative",children:"Installation via Package Manager (Alternative)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install Gazebo and ROS 2 integration packages\r\nsudo apt update\r\nsudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-ros2-control ros-humble-gazebo-dev\n"})}),"\n",(0,o.jsx)(n.h3,{id:"installation-on-other-platforms",children:"Installation on Other Platforms"}),"\n",(0,o.jsx)(n.p,{children:"For macOS or Windows, refer to the official Gazebo documentation for platform-specific installation instructions."}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-components",children:"Gazebo Components"}),"\n",(0,o.jsx)(n.h3,{id:"1-gz-sim-formerly-ignition-gazebo",children:"1. gz-sim (formerly Ignition Gazebo)"}),"\n",(0,o.jsx)(n.p,{children:"The core simulation engine that handles physics, rendering, and simulation management."}),"\n",(0,o.jsx)(n.h3,{id:"2-gz-gui-formerly-ignition-gui",children:"2. gz-gui (formerly Ignition GUI)"}),"\n",(0,o.jsx)(n.p,{children:"The user interface framework that provides the visual interface for interacting with simulations."}),"\n",(0,o.jsx)(n.h3,{id:"3-gz-fuel-formerly-ignition-fuel",children:"3. gz-fuel (formerly Ignition Fuel)"}),"\n",(0,o.jsx)(n.p,{children:"An online repository for sharing robot models, worlds, and other simulation assets."}),"\n",(0,o.jsx)(n.h2,{id:"basic-gazebo-concepts",children:"Basic Gazebo Concepts"}),"\n",(0,o.jsx)(n.h3,{id:"worlds",children:"Worlds"}),"\n",(0,o.jsx)(n.p,{children:"Worlds define the environment in which robots operate. They include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Terrain and static objects"}),"\n",(0,o.jsx)(n.li,{children:"Lighting conditions"}),"\n",(0,o.jsx)(n.li,{children:"Physics parameters"}),"\n",(0,o.jsx)(n.li,{children:"Robot spawn locations"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Example world file (",(0,o.jsx)(n.code,{children:"example.world"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="default">\r\n    \x3c!-- Include a ground plane --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    \x3c!-- Include a sun for lighting --\x3e\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n\r\n    \x3c!-- Add a simple box --\x3e\r\n    <model name="box">\r\n      <pose>0 0 0.5 0 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>1 1 1</size>\r\n            </box>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"models",children:"Models"}),"\n",(0,o.jsx)(n.p,{children:"Models represent robots, objects, and other entities in the simulation. They include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Physical properties (mass, inertia, friction)"}),"\n",(0,o.jsx)(n.li,{children:"Visual appearance"}),"\n",(0,o.jsx)(n.li,{children:"Sensors and actuators"}),"\n",(0,o.jsx)(n.li,{children:"Joints and kinematic chains"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"running-gazebo",children:"Running Gazebo"}),"\n",(0,o.jsx)(n.h3,{id:"basic-launch",children:"Basic Launch"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Launch Gazebo with the default empty world\r\ngz sim\r\n\r\n# Launch Gazebo with a specific world file\r\ngz sim -r my_world.sdf\r\n\r\n# Launch Gazebo in verbose mode for debugging\r\ngz sim -v 4 my_world.sdf\n"})}),"\n",(0,o.jsx)(n.h3,{id:"gazebo-gui-elements",children:"Gazebo GUI Elements"}),"\n",(0,o.jsx)(n.p,{children:"When Gazebo launches, you'll see several interface elements:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Main 3D View"}),": The primary simulation visualization"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"World Info Panel"}),": Shows simulation time and world information"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Entity Tree"}),": Hierarchical view of all objects in the world"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tools Panel"}),": Access to various simulation tools"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Time Panel"}),": Controls for simulation time and playback"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-with-ros-2-integration",children:"Gazebo with ROS 2 Integration"}),"\n",(0,o.jsx)(n.h3,{id:"installation-of-ros-2-gazebo-packages",children:"Installation of ROS 2 Gazebo Packages"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install ROS 2 Gazebo integration packages\r\nsudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-plugins\n"})}),"\n",(0,o.jsx)(n.h3,{id:"launching-gazebo-through-ros-2",children:"Launching Gazebo through ROS 2"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Example launch file to start Gazebo with ROS 2\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\nfrom launch.substitutions import PathJoinSubstitution\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\n\r\ndef generate_launch_description():\r\n    # World file argument\r\n    world_arg = DeclareLaunchArgument(\r\n        'world',\r\n        default_value='empty.sdf',\r\n        description='Choose one of the world files from `/gazebo_ros_pkgs/gazebo_ros/worlds`'\r\n    )\r\n\r\n    # Launch Gazebo\r\n    gzserver = Node(\r\n        package='gazebo_ros',\r\n        executable='gzserver',\r\n        arguments=[LaunchConfiguration('world'), '-s', 'libgazebo_ros_init.so', '-s', 'libgazebo_ros_factory.so'],\r\n        output='screen'\r\n    )\r\n\r\n    gzclient = Node(\r\n        package='gazebo_ros',\r\n        executable='gzclient',\r\n        output='screen'\r\n    )\r\n\r\n    return LaunchDescription([\r\n        world_arg,\r\n        gzserver,\r\n        gzclient\r\n    ])\n"})}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-simulation-parameters",children:"Gazebo Simulation Parameters"}),"\n",(0,o.jsx)(n.h3,{id:"physics-engine-configuration",children:"Physics Engine Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo supports multiple physics engines:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ODE"})," (Open Dynamics Engine): Default, good balance of speed and accuracy"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Bullet"}),": Good for real-time applications"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"DART"}),": Advanced physics simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Simbody"}),": Multibody dynamics"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Physics parameters can be configured in the world file:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<world name="default">\r\n  <physics type="ode">\r\n    <max_step_size>0.001</max_step_size>\r\n    <real_time_factor>1.0</real_time_factor>\r\n    <real_time_update_rate>1000</real_time_update_rate>\r\n  </physics>\r\n</world>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"common-physics-parameters",children:"Common Physics Parameters"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Parameter"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Typical Value"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"max_step_size"}),(0,o.jsx)(n.td,{children:"Maximum simulation time step"}),(0,o.jsx)(n.td,{children:"0.001s"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"real_time_factor"}),(0,o.jsx)(n.td,{children:"Target simulation speed"}),(0,o.jsx)(n.td,{children:"1.0 (real-time)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"real_time_update_rate"}),(0,o.jsx)(n.td,{children:"Updates per second"}),(0,o.jsx)(n.td,{children:"1000 Hz"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"working-with-gazebo-models",children:"Working with Gazebo Models"}),"\n",(0,o.jsx)(n.h3,{id:"finding-models",children:"Finding Models"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo comes with a library of pre-built models:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# List available models\r\nls /usr/share/gazebo-*/models/\r\n\r\n# Or check your local model path\r\necho $GAZEBO_MODEL_PATH\n"})}),"\n",(0,o.jsx)(n.h3,{id:"adding-custom-models",children:"Adding Custom Models"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Create a model directory: ",(0,o.jsx)(n.code,{children:"~/.gazebo/models/my_robot/"})]}),"\n",(0,o.jsxs)(n.li,{children:["Add a ",(0,o.jsx)(n.code,{children:"model.config"})," file describing the model"]}),"\n",(0,o.jsx)(n.li,{children:"Add the SDF model file"}),"\n",(0,o.jsx)(n.li,{children:"Include visual and collision meshes if needed"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Example ",(0,o.jsx)(n.code,{children:"model.config"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<model>\r\n  <name>My Robot</name>\r\n  <version>1.0</version>\r\n  <sdf version="1.7">model.sdf</sdf>\r\n  <author>\r\n    <name>Your Name</name>\r\n    <email>your.email@example.com</email>\r\n  </author>\r\n  <description>A custom robot model</description>\r\n</model>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-services-and-topics",children:"Gazebo Services and Topics"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo provides various ROS 2 services and topics for programmatic control:"}),"\n",(0,o.jsx)(n.h3,{id:"common-services",children:"Common Services"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/gazebo/set_model_state"}),": Set pose and velocity of a model"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/gazebo/get_model_state"}),": Get current state of a model"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/gazebo/spawn_entity"}),": Spawn a new entity in the simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/gazebo/delete_entity"}),": Remove an entity from the simulation"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"common-topics",children:"Common Topics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/clock"}),": Simulation time (when using sim time)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/gazebo/model_states"}),": States of all models in the simulation"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,o.jsx)(n.h3,{id:"graphics-settings",children:"Graphics Settings"}),"\n",(0,o.jsx)(n.p,{children:"For better performance on less powerful hardware:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Launch with software rendering (slower but more compatible)\r\nMESA_GL_VERSION_OVERRIDE=3.3 gz sim\r\n\r\n# Or disable GUI for headless operation\r\ngz sim -s my_world.sdf\n"})}),"\n",(0,o.jsx)(n.h3,{id:"physics-settings",children:"Physics Settings"}),"\n",(0,o.jsx)(n.p,{children:"Adjust physics parameters for your specific needs:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Increase ",(0,o.jsx)(n.code,{children:"max_step_size"})," for better performance (less accuracy)"]}),"\n",(0,o.jsxs)(n.li,{children:["Decrease ",(0,o.jsx)(n.code,{children:"real_time_update_rate"})," for less CPU usage"]}),"\n",(0,o.jsx)(n.li,{children:"Use simpler collision geometries when possible"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,o.jsx)(n.h3,{id:"gazebo-wont-start",children:"Gazebo Won't Start"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Check if Gazebo is properly installed\r\ngz --version\r\n\r\n# Check for OpenGL issues\r\nglxinfo | grep "OpenGL version"\r\n\r\n# Clear Gazebo cache if needed\r\nrm -rf ~/.gazebo\n'})}),"\n",(0,o.jsx)(n.h3,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Close other applications to free up resources"}),"\n",(0,o.jsx)(n.li,{children:"Reduce world complexity"}),"\n",(0,o.jsx)(n.li,{children:"Adjust graphics quality settings"}),"\n",(0,o.jsx)(n.li,{children:"Use simpler physics parameters"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"ros-2-connection-issues",children:"ROS 2 Connection Issues"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check if ROS 2 nodes are communicating\r\nros2 topic list\r\n\r\n# Verify Gazebo plugins are loaded\r\n# Look for libgazebo_ros_init.so in the launch output\n"})}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo provides a powerful and flexible simulation environment for robotics development. Proper setup is crucial for effective simulation work. Understanding the core concepts, components, and integration with ROS 2 will enable you to create sophisticated simulation environments for testing and validating your robotic systems."}),"\n",(0,o.jsx)(n.p,{children:"In the next section, we'll explore URDF and SDF formats, which are essential for defining robot models in Gazebo."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const o={},r=s.createContext(o);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);